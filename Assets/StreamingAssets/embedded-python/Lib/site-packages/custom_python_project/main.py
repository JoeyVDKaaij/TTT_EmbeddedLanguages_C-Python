import os
import random
import ctypes
import cv2
import numpy as np
import platform
"""This script handles all the methods used for the prototype."""

def Shoot():
    """Gets a random number between 0 to 6 and shuts down the laptop if the right number is chosen."""
    randomNumber = random.randint(0,6)
    if randomNumber == 0:
        system = platform.system()
        if system == "Windows":
            os.system('shutdown -s -t 0')
        elif system == "Darwin" or system == "Linux":
            os.system('sudo shutdown -h now')

def Iterate(pAmountOfIterations):
    """Iterates through a loop a set amount of times to see how fast python is embedded into Unity."""
    currentIteration = 0
    for i in range(int(pAmountOfIterations)):
        currentIteration += 1

    return currentIteration

def TestGaussianBlur(pSeed, pWidth, pHeight, pKernel, pIterations):
    """Generates an image with Gaussian Blur."""
    np.random.seed(pSeed)
    img = (np.random.rand(pHeight, pWidth, 3) * 255).astype(np.uint8)

    for i in range(pIterations):
        img = cv2.GaussianBlur(img, (pKernel, pKernel), 0)

    # Save result
    cv2.imwrite("output.png", img)

    return int(img[0,0,0])

def ReturnRandomizedArray(pSize, pSeed):
    """Generateds a randomized array depending on the given size and seed."""
    np.random.seed(pSeed)
    randomArray = np.random.rand(pSize)
    return randomArray.tolist()

def SortArrayTest(pArray):
    """Sorts an given array."""
    array = np.array(pArray)
    array.sort()
    return array.tolist()

if __name__ == "__main__":
    print(TestGaussianBlur(123, 256, 256, 5, 10))
    array = ReturnRandomizedArray(100, 23)
    print(array)
    array = SortArrayTest(array)
    print(array)